{% extends "base.html" %}
{% block content %}
{% load static %}
<div class="container">
    <div class="row">
        <div class="col-sm-2 ">
            <div class="d-flex flex-column flex-shrink-0 p-3 texto text-start" style="width: 280px;">
                <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
                    <svg class="bi pe-none me-2" width="40" height="32">
                        <use xlink:href="#bootstrap" />
                    </svg>
                    <span class="fs-4">Filtros</span>
                </a>
                <hr>
                <div class="accordion" id="accordionExample">
                    <div class="accordion-item">
                      <h2 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                          Rubros
                        </button>
                      </h2>
                      <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                          <div class="d-grid gap-2 col-6 mx-auto">
                            {% for rubro in rubros %}
                            {% if id == rubro.id %}
                              <a class="btn btn-secondary" href="{% url 'publicacion:publicaciones_filtradas'  rubro.id  %}" role="button">{{ rubro.nombre }}</a>
                            {% else %}  
                              <a class="btn btn-outline-secondary" href="{% url 'publicacion:publicaciones_filtradas' rubro.id %}" role="button">{{ rubro.nombre }}</a>                              
                            {% endif %}  
                            {% endfor %} 
                          </div>
                            
                        </div>
                      </div>
                    </div>
                    <div class="accordion-item">
                      <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                          Fecha
                        </button>
                      </h2>
                      <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            <div class="d-grid gap-2 col-6 mx-auto">
                                {% if id == 5 %}
                                <a class="btn btn-secondary" href="{% url 'publicacion:publicaciones_filtradas' id=5 %}" role="button">Ascendente</a>
                                {% else %}
                                <a class="btn btn-outline-secondary" href="{% url 'publicacion:publicaciones_filtradas' id=5 %}" role="button">Ascendente</a>                              
                                {% endif %}

                                {% if id == 6 %}
                                <a class="btn btn-secondary" href="{% url 'publicacion:publicaciones_filtradas' id=6 %}" role="button">Descendente</a>
                                {% else %}
                                <a class="btn btn-outline-secondary" href="{% url 'publicacion:publicaciones_filtradas' id=6 %}" role="button">Descendente</a>                              
                                {% endif %}
                                                          
                            </div>
                        </div>
                      </div>
                    </div>
                    <div class="accordion-item">
                      <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                          Precio
                        </button>
                      </h2>
                      <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            <div class="accordion-body">
                                <div class="d-grid gap-2 col-6 mx-auto">

                                    {% if id == 7 %}
                                    <a class="btn btn-secondary" href="{% url 'publicacion:publicaciones_filtradas' id=7 %}" role="button">De MAS caro a MAS barato</a>
                                    {% else %}
                                    <a class="btn btn-outline-secondary" href="{% url 'publicacion:publicaciones_filtradas' id=7 %}" role="button">De MAS caro a MAS barato</a>                              
                                    {% endif %}

                                    {% if id == 8 %}
                                    <a class="btn btn-secondary" href="{% url 'publicacion:publicaciones_filtradas' id=8 %}" role="button">De MAS barato a MAS caro</a>
                                    {% else %}
                                    <a class="btn btn-outline-secondary" href="{% url 'publicacion:publicaciones_filtradas' id=8 %}" role="button">De MAS barato a MAS caro</a>                              
                                    {% endif %}
                                                        
                                   
                                </div>
                            </div>
                        </div>
                      </div>
                    </div>
                </div>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
            </div>
        </div>
        <div class="col-sm-1"></div>
        <div class="col-sm-7">
            <div class="card border-light">
                <div class="card-body">
                    <div class="row row-cols-1 row-cols-md-3 g-3">
                        {% for publicacion in pub %}
                        <div class="col">
                          <a href="{% url 'publicacion:mostrar_publicacion' id=publicacion.id %}" class="text-decoration-none text-dark card-link">
                              <div class="card h-100 card-hover">
                                  <div class="image-container">
                                      <!-- Imagen más grande, sin la restricción de tamaño -->
                                      <img src="{{ publicacion.producto.imagen_1.url }}" class="card-img-top card-img-hover" alt="Imagen del producto">
                                  </div>
                                  <div class="card-body">
                                      <h5 class="card-title">{{ publicacion.nombre }}</h5>
                                      <p class="card-text">{{ publicacion.descripcion }}</p>
                                      <p class="card-text"><small class="text-body-secondary">${{ publicacion.valor }}</small></p>
                                  </div>
                              </div>
                          </a>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-sm-2 ">
          {% if id == 1 %}
          <img src="{% static 'monitor_13399362.gif' %}" alt="Descripción de la imagen" class="img-fluid" style="max-width: 70%; height: auto;">
          <br/>
          <br/>
          <br/>
          <br/> 
          <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="{% static 'urban.jpg' %}" class="d-block w-100" alt="...">
                    
                </div>
                <div class="carousel-item">
                    <img src="{% static 'activa.jpg' %}" class="d-block w-100" alt="...">
                    
                </div>
                <div class="carousel-item">
                    <img src="{% static 'zapas.jpg' %}" class="d-block w-100" alt="...">
                    
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        {% endif %}

        {% if id == 2 %}
          <img src="{% static 'monitor_13399362.gif' %}" alt="Descripción de la imagen" class="img-fluid" style="max-width: 70%; height: auto;">
          <br/>
          <br/>
          <br/>
          <br/> 
          <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="{% static 'deltano.jpg' %}" class="d-block w-100" alt="...">
                    
                </div>
                <div class="carousel-item">
                    <img src="{% static 'lavadero.jpg' %}" class="d-block w-100" alt="...">
                    
                </div>
                <div class="carousel-item">
                    <img src="{% static 'teodoro.jpg' %}" class="d-block w-100" alt="...">
                    
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        {% endif %} 
        {% if id == 3 %}
          <img src="{% static 'monitor_13399362.gif' %}" alt="Descripción de la imagen" class="img-fluid" style="max-width: 70%; height: auto;">
          <br/>
          <br/>
          <br/>
          <br/> 
          <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="{% static 'electrofix.jpg' %}" class="d-block w-100" alt="...">
                    
                </div>
                <div class="carousel-item">
                    <img src="{% static 'garbachino.jpg' %}" class="d-block w-100" alt="...">
                    
                </div>
                <div class="carousel-item">
                    <img src="{% static 'aire acondicionado.jpg' %}" class="d-block w-100" alt="...">
                    
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        {% endif %} 
        {% if id == 4 %}
          <img src="{% static 'monitor_13399362.gif' %}" alt="Descripción de la imagen" class="img-fluid" style="max-width: 70%; height: auto;">
          <br/>
          <br/>
          <br/>
          <br/> 
          <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="{% static 'pupi.jpg' %}" class="d-block w-100" alt="...">
                    
                </div>
                <div class="carousel-item">
                    <img src="{% static 'celular2.jpg' %}" class="d-block w-100" alt="...">
                    
                </div>
                <div class="carousel-item">
                    <img src="{% static 'fundas.jpg' %}" class="d-block w-100" alt="...">
                    
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        {% endif %} 

      </div> 

              




         <!--
        {{ pub }} <br/>
        Anterior: {{ pub.has_previous }} <br/>
        Posterior: {{ pub.has_next }} <br/>
        Actual: {{ pub.number }} <br/>
        NroPaginas: {{ pub.paginator.num_pages }} <br/>
        --->

        <br/>
			<br/>
			<nav aria-label="Page navigation example">
			  <ul class="pagination justify-content-center">
				<li class="page-item">
				  {% if pub.has_previous %}
					  <!--a class="page-link" href="?page=1">&laquo Primera</a-->
					  <a class="page-link" style="color: rgb(0, 0, 0);" href="?page={{ pub.previous_page_number }}">Anterior</a>
				  {% endif %} 
				</li>

				{% for i in nums %}

				<li class="page-item"><a class="page-link" style="color: rgb(0, 0, 0);" href="?page={{ forloop.counter }}">{{ forloop.counter }}
				</a></li>
		  
				  
				{% endfor %}  

				<li class="page-item">
				  {% if pub.has_next %}
					  <a class="page-link" style="color: rgb(0, 0, 0);" href="?page={{ pub.next_page_number }}">Proxima</a> 
					  <!--a class="page-link" href="?page={{ pub.paginator.num_pages }}">Ultima &raquo</a--> 
				  {% endif %}

				</li>
			  </ul>
		  </nav>

		  <br/>
    </div>
</div>
{% endblock %}